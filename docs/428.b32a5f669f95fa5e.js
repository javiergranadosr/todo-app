"use strict";(self.webpackChunktodoApp=self.webpackChunktodoApp||[]).push([[428],{5428:(Z,c,s)=>{s.r(c),s.d(c,{AuthModule:()=>O});var g=s(6895),t=s(433),d=s(7161),r=s(8256),m=s(6518);function _(o,i){if(1&o&&(r.TgZ(0,"h3"),r._uU(1),r.qZA()),2&o){const n=r.oxw();r.xp6(1),r.Oqu(n.errorMessage)}}function p(o,i){if(1&o&&(r.TgZ(0,"h3"),r._uU(1),r.qZA()),2&o){const n=i.$implicit;r.xp6(1),r.Oqu(n.msg)}}function h(o,i){if(1&o&&(r.ynx(0),r.YNc(1,p,2,1,"h3",8),r.BQk()),2&o){const n=r.oxw();r.xp6(1),r.Q6J("ngForOf",n.errors)}}let C=(()=>{class o{constructor(n,e,a){this.fb=n,this.authService=e,this.router=a,this.mode="",this.errors=[],this.errorMessage="",this.loginForm=this.fb.group({email:["demo@demo.com",[t.kI.required,t.kI.email]],password:["123456",[t.kI.required,t.kI.minLength(6)]]})}ngDoCheck(){this.mode=localStorage.getItem("mode")}ngOnInit(){this.mode=localStorage.getItem("mode"),this.authService.validateToken().subscribe(n=>{n&&this.router.navigateByUrl("tasks")})}login(){const{email:n,password:e}=this.loginForm.value,a={email:n,password:e};this.errors=[],this.errorMessage="",this.loginForm.valid&&this.authService.login(a).subscribe(l=>{200===l.code?(this.loginForm.reset(),this.router.navigateByUrl("/tasks")):(400===l.code&&(this.errorMessage=l.message),this.errors=l.errors,console.log(this.errors))})}}return o.\u0275fac=function(n){return new(n||o)(r.Y36(t.qu),r.Y36(m.e),r.Y36(d.F0))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-login"]],decls:16,vars:9,consts:[[3,"ngClass"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form__group"],["type","email","placeholder","Correo electr\xf3nico","formControlName","email",3,"ngClass"],["type","password","placeholder","Contrase\xf1a","formControlName","password",3,"ngClass"],["routerLink","/auth/register",3,"ngClass"],["type","submit",3,"disabled","ngClass"],[4,"ngFor","ngForOf"]],template:function(n,e){1&n&&(r.TgZ(0,"div",0)(1,"h2"),r._uU(2,"Ingresar a tareas"),r.qZA(),r.YNc(3,_,2,1,"h3",1),r.YNc(4,h,2,1,"ng-container",1),r.TgZ(5,"form",2),r.NdJ("ngSubmit",function(){return e.login()}),r.TgZ(6,"div",3),r._UZ(7,"input",4),r.qZA(),r.TgZ(8,"div",3),r._UZ(9,"input",5),r.qZA(),r.TgZ(10,"div",3)(11,"a",6),r._uU(12,"Crear una cuenta"),r.qZA()(),r.TgZ(13,"div",3)(14,"button",7),r._uU(15," Ingresar "),r.qZA()()()()),2&n&&(r.Q6J("ngClass",e.mode?"card__"+e.mode:"card__dark"),r.xp6(3),r.Q6J("ngIf",e.errorMessage.length>0),r.xp6(1),r.Q6J("ngIf",e.errors&&e.errors.length>0),r.xp6(1),r.Q6J("formGroup",e.loginForm),r.xp6(2),r.Q6J("ngClass",e.mode?"input__"+e.mode:"input__dark"),r.xp6(2),r.Q6J("ngClass",e.mode?"input__"+e.mode:"input__dark"),r.xp6(2),r.Q6J("ngClass",e.mode?"a__"+e.mode:"a__dark"),r.xp6(3),r.Q6J("disabled",e.loginForm.invalid)("ngClass",e.mode?"btn__"+e.mode:"btn__dark"))},dependencies:[g.mk,g.sg,g.O5,d.yS,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u],styles:[".card__light[_ngcontent-%COMP%], .card__dark[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px}.card__light[_ngcontent-%COMP%]{color:#3a7bfd;background-color:var(--veryLightGray)}.card__dark[_ngcontent-%COMP%]{color:var(--lightGrayishBlue);background-color:var(--veryDarkBlue)}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-align:center;margin-bottom:10px}h3[_ngcontent-%COMP%]{font-size:.7rem}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;height:50px;color:var(--veryDarkGrayishBlue);padding:5px;border:1px solid var(--darkGrayishBlue);margin:5px 0;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px}.btn__light[_ngcontent-%COMP%], .btn__dark[_ngcontent-%COMP%]{height:40px;cursor:pointer}.btn__light[_ngcontent-%COMP%]{background-color:#3a7bfd;color:var(--veryLightGray)}.btn__dark[_ngcontent-%COMP%], .input__dark[_ngcontent-%COMP%]{background-color:var(--veryDarkDesaturatedBlue);color:var(--veryLightGray)}.input__light[_ngcontent-%COMP%]{background-color:none;color:none}a[_ngcontent-%COMP%]{display:block;text-decoration:none;font-weight:700;font-size:.8rem;text-align:center;margin:5px}.a__dark[_ngcontent-%COMP%]{color:var(--lightGrayishBlue)}.a__light[_ngcontent-%COMP%]{color:#3a7bfd}"]}),o})();var f=s(3172);function b(o,i){if(1&o&&(r.TgZ(0,"h3"),r._uU(1),r.qZA()),2&o){const n=r.oxw();r.xp6(1),r.Oqu(n.errorMessage)}}function v(o,i){if(1&o&&(r.TgZ(0,"h3"),r._uU(1),r.qZA()),2&o){const n=i.$implicit;r.xp6(1),r.Oqu(n.msg)}}function k(o,i){if(1&o&&(r.ynx(0),r.YNc(1,v,2,1,"h3",10),r.BQk()),2&o){const n=r.oxw();r.xp6(1),r.Q6J("ngForOf",n.errors)}}const y=[{path:"",children:[{path:"login",component:C,title:"Iniciar sesi\xf3n"},{path:"register",component:(()=>{class o{constructor(n,e,a){this.fb=n,this.authService=e,this.router=a,this.mode="",this.errors=[],this.errorMessage="",this.registerForm=this.fb.group({name:["",[t.kI.required]],email:["",[t.kI.required,t.kI.email]],password:["",[t.kI.required,t.kI.minLength(6)]],confirmPassword:["",[t.kI.required,t.kI.minLength(6)]]})}ngDoCheck(){this.mode=localStorage.getItem("mode")}ngOnInit(){this.mode=localStorage.getItem("mode"),this.authService.validateToken().subscribe(n=>{n&&this.router.navigateByUrl("tasks")})}register(){const{name:n,email:e,password:a,confirmPassword:l}=this.registerForm.value,x={name:n,email:e,password:a};if(this.errorMessage="",this.errors=[],this.registerForm.valid){if(a!==l)return void(this.errorMessage="Las contrase\xf1as no son iguales, intente de nuevo en confirmar contrase\xf1a.");this.authService.register(x).subscribe(u=>{201===u.code?(f.Notify.info(u.message),this.registerForm.reset(),this.router.navigateByUrl("/auth")):(this.errors=u.errors,console.log(this.errors))})}}}return o.\u0275fac=function(n){return new(n||o)(r.Y36(t.qu),r.Y36(m.e),r.Y36(d.F0))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-register"]],decls:20,vars:11,consts:[[3,"ngClass"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form__group"],["type","text","placeholder","Nombre completo","formControlName","name",3,"ngClass"],["type","email","placeholder","Correo electr\xf3nico","formControlName","email",3,"ngClass"],["type","password","placeholder","Contrase\xf1a","formControlName","password",3,"ngClass"],["type","password","placeholder","Confirmar contrase\xf1a","formControlName","confirmPassword",3,"ngClass"],["routerLink","/auth",3,"ngClass"],["type","submit",3,"disabled","ngClass"],[4,"ngFor","ngForOf"]],template:function(n,e){1&n&&(r.TgZ(0,"div",0)(1,"h2"),r._uU(2,"Crear una cuenta"),r.qZA(),r.YNc(3,b,2,1,"h3",1),r.YNc(4,k,2,1,"ng-container",1),r.TgZ(5,"form",2),r.NdJ("ngSubmit",function(){return e.register()}),r.TgZ(6,"div",3),r._UZ(7,"input",4),r.qZA(),r.TgZ(8,"div",3),r._UZ(9,"input",5),r.qZA(),r.TgZ(10,"div",3),r._UZ(11,"input",6),r.qZA(),r.TgZ(12,"div",3),r._UZ(13,"input",7),r.qZA(),r.TgZ(14,"div",3)(15,"a",8),r._uU(16,"Ingresar a tareas"),r.qZA()(),r.TgZ(17,"div",3)(18,"button",9),r._uU(19," Crear "),r.qZA()()()()),2&n&&(r.Q6J("ngClass",e.mode?"card__"+e.mode:"card__dark"),r.xp6(3),r.Q6J("ngIf",e.errorMessage.length>0),r.xp6(1),r.Q6J("ngIf",e.errors&&e.errors.length>0),r.xp6(1),r.Q6J("formGroup",e.registerForm),r.xp6(2),r.Q6J("ngClass",e.mode?"input__"+e.mode:"input__dark"),r.xp6(2),r.Q6J("ngClass",e.mode?"input__"+e.mode:"input__dark"),r.xp6(2),r.Q6J("ngClass",e.mode?"input__"+e.mode:"input__dark"),r.xp6(2),r.Q6J("ngClass",e.mode?"input__"+e.mode:"input__dark"),r.xp6(2),r.Q6J("ngClass",e.mode?"a__"+e.mode:"a__dark"),r.xp6(3),r.Q6J("disabled",e.registerForm.invalid)("ngClass",e.mode?"btn__"+e.mode:"btn__dark"))},dependencies:[g.mk,g.sg,g.O5,d.yS,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u],styles:[".card__light[_ngcontent-%COMP%], .card__dark[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px}.card__light[_ngcontent-%COMP%]{color:#3a7bfd;background-color:var(--veryLightGray)}.card__dark[_ngcontent-%COMP%]{color:var(--lightGrayishBlue);background-color:var(--veryDarkBlue)}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-align:center;margin-bottom:10px}h3[_ngcontent-%COMP%]{font-size:.7rem}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;height:50px;color:var(--veryDarkGrayishBlue);padding:5px;border:1px solid var(--darkGrayishBlue);margin:5px 0;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px}.btn__light[_ngcontent-%COMP%], .btn__dark[_ngcontent-%COMP%]{height:40px;cursor:pointer}.btn__light[_ngcontent-%COMP%]{background-color:#3a7bfd;color:var(--veryLightGray)}.btn__dark[_ngcontent-%COMP%], .input__dark[_ngcontent-%COMP%]{background-color:var(--veryDarkDesaturatedBlue);color:var(--veryLightGray)}.input__light[_ngcontent-%COMP%]{background-color:none;color:none}a[_ngcontent-%COMP%]{display:block;text-decoration:none;font-weight:700;font-size:.8rem;text-align:center;margin:5px;color:#3a7bfd}.a__dark[_ngcontent-%COMP%]{color:var(--lightGrayishBlue)}.a__light[_ngcontent-%COMP%]{color:#3a7bfd}"]}),o})(),title:"Crear cuenta"},{path:"**",redirectTo:"login",title:"Iniciar sesi\xf3n"}]}];let M=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[g.ez,d.Bz.forChild(y),d.Bz]}),o})(),O=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[g.ez,M,t.UX]}),o})()}}]);