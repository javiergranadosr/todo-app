"use strict";(self.webpackChunktodoApp=self.webpackChunktodoApp||[]).push([[941],{3941:(P,u,r)=>{r.r(u),r.d(u,{TasksModule:()=>M});var l=r(6895),g=r(433),m=r(7161),e=r(8256),p=r(3172),h=r(529),_=r(2340),k=r(4004),f=r(262),C=r(9646);let b=(()=>{class n{constructor(s){this.http=s,this.urlBase=_.N.urlBase}get headers(){return(new h.WM).set("x-token",localStorage.getItem("x-token")||"")}create(s){return this.http.post(`${this.urlBase}/tasks`,s,{headers:this.headers}).pipe((0,k.U)(a=>a),(0,f.K)(a=>(console.log(a),(0,C.of)(a))))}getTasks(s,t,a,i){return this.http.get(`${this.urlBase}/tasks?userId=${s}&complete=${t}&limit=${a}&from=${i}`,{headers:this.headers}).pipe((0,k.U)(d=>d))}deleteTask(s){return this.http.delete(`${this.urlBase}/tasks/${s}`,{headers:this.headers})}clearTasks(s){return this.http.put(`${this.urlBase}/tasks/${s}`,{},{headers:this.headers})}changeComplete(s){return this.http.post(`${this.urlBase}/tasks/changeComplete`,s,{headers:this.headers})}}return n.\u0275fac=function(s){return new(s||n)(e.LFG(h.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function x(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"div",14)(1,"div",1)(2,"input",15),e.NdJ("change",function(a){const c=e.CHM(s).$implicit,d=e.oxw();return e.KtG(d.changeComplete(a,c.uid))}),e.qZA(),e._UZ(3,"label",16),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"img",17),e.NdJ("click",function(){const i=e.CHM(s).$implicit,c=e.oxw();return e.KtG(c.deleteTask(i.uid))}),e.qZA()()}if(2&n){const s=o.$implicit,t=e.oxw();e.Q6J("ngClass",t.mode?"create__"+t.mode:"create__dark"),e.xp6(2),e.Q6J("id",s.uid)("checked",s.complete),e.xp6(1),e.Q6J("for",s.uid),e.xp6(1),e.ekj("completed",s.complete),e.xp6(1),e.Oqu(e.lcZ(6,7,s.name))}}let T=(()=>{class n{constructor(s){this.tasksService=s,this.nameTask="",this.complete=!1,this.mode="",this.tasks=[],this.total=0,this.typeFilter="all",this.limit=5,this.from=0,this.currentPage=1,this.totalPages=0}ngDoCheck(){this.mode=localStorage.getItem("mode")}ngOnInit(){this.mode=localStorage.getItem("mode"),this.getTasks(!0)}createTask(){if(0===this.nameTask.length)return;const s={name:this.nameTask,userId:localStorage.getItem("uid")?.toString(),complete:this.complete};this.tasksService.create(s).subscribe(t=>{201===t.code?(p.Notify.success(t.message),this.nameTask="",this.complete=!1,this.getTasks(!1)):p.Notify.warning("Hubo un error al crear la tarea, contacte a un administrador.")})}toggleStatus(s){this.complete=s.target.checked}configureListTasks(s=-1,t){const a=localStorage.getItem("uid");switch(t&&(this.currentPage=1,this.from=0),s){case-1:this.typeFilter="all";break;case 0:this.typeFilter="active";break;case 1:this.typeFilter="completed";break;default:this.typeFilter="all"}this.tasksService.getTasks(a,s,this.limit,this.from).subscribe(({total:i,code:c,tasks:d})=>{200===c&&(this.tasks=d,this.total=i,this.totalPages=Math.ceil(this.total/this.limit))})}getTasks(s){switch(this.typeFilter){case"all":default:this.configureListTasks(-1,s);break;case"active":this.configureListTasks(0,s);break;case"completed":this.configureListTasks(1,s)}}prevPage(){this.currentPage>1&&(this.currentPage--,this.from-=this.limit,this.getTasks(!1))}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.from+=this.limit,this.getTasks(!1))}deleteTask(s){this.tasksService.deleteTask(s).subscribe(t=>{200===t.code?(p.Notify.success(t.message),this.getTasks(!0)):p.Notify.warning(t.message)})}clearTasks(){const s=localStorage.getItem("uid")?localStorage.getItem("uid"):"";this.tasksService.clearTasks(s).subscribe(t=>{200===t.code?(p.Notify.success(t.message),this.typeFilter="all",this.getTasks(!0)):p.Notify.warning(t.message)})}changeComplete(s,t){this.tasksService.changeComplete({id:t,complete:s.target.checked}).subscribe(c=>{200===c.code?(p.Notify.success(c.message),this.getTasks(!1)):p.Notify.warning(c.message)})}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-lists-tasks"]],decls:29,vars:18,consts:[[1,"input__create","separator",3,"ngClass"],[1,"checkbox"],["type","checkbox","id","status",3,"checked","change"],["for","status"],["type","text","placeholder","Create a new todo.",3,"ngClass","ngModel","ngModelChange","keyup.enter"],["class","input__create",3,"ngClass",4,"ngFor","ngForOf"],[1,"options",3,"ngClass"],[3,"click"],[1,"filters",3,"ngClass"],[1,"span__desktop"],[1,"span__desktop",3,"click"],[1,"pagination"],[3,"ngClass","click"],[3,"ngClass"],[1,"input__create",3,"ngClass"],["type","checkbox",3,"id","checked","change"],[3,"for"],["src","./assets/images/icon-cross.svg","alt","Eliminar tarea",3,"click"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"input",2),e.NdJ("change",function(i){return t.toggleStatus(i)}),e.qZA(),e._UZ(3,"label",3),e.qZA(),e.TgZ(4,"input",4),e.NdJ("ngModelChange",function(i){return t.nameTask=i})("keyup.enter",function(){return t.createTask()}),e.qZA()(),e.YNc(5,x,8,9,"div",5),e.TgZ(6,"div",6)(7,"span"),e._uU(8,"5 items left"),e.qZA(),e.TgZ(9,"span",7),e.NdJ("click",function(){return t.clearTasks()}),e._uU(10,"Clear Completed"),e.qZA()(),e.TgZ(11,"div",8)(12,"span",9),e._uU(13),e.qZA(),e.TgZ(14,"span",7),e.NdJ("click",function(){return t.configureListTasks(-1,!0)}),e._uU(15,"All"),e.qZA(),e.TgZ(16,"span",7),e.NdJ("click",function(){return t.configureListTasks(0,!0)}),e._uU(17,"Active"),e.qZA(),e.TgZ(18,"span",7),e.NdJ("click",function(){return t.configureListTasks(1,!0)}),e._uU(19,"Completed"),e.qZA(),e.TgZ(20,"span",10),e.NdJ("click",function(){return t.clearTasks()}),e._uU(21,"Clear Completed"),e.qZA()(),e.TgZ(22,"div",11)(23,"span",12),e.NdJ("click",function(){return t.prevPage()}),e._uU(24,"<"),e.qZA(),e.TgZ(25,"span",13),e._uU(26),e.qZA(),e.TgZ(27,"span",12),e.NdJ("click",function(){return t.nextPage()}),e._uU(28,">"),e.qZA()()),2&s&&(e.Q6J("ngClass",t.mode?"create__"+t.mode:"create__dark"),e.xp6(2),e.Q6J("checked",t.complete),e.xp6(2),e.Q6J("ngClass",t.mode?"input__"+t.mode:"input__dark")("ngModel",t.nameTask),e.xp6(1),e.Q6J("ngForOf",t.tasks),e.xp6(1),e.Q6J("ngClass",t.mode?"create__"+t.mode:"create__dark"),e.xp6(5),e.Q6J("ngClass",t.mode?"create__"+t.mode:"create__dark"),e.xp6(2),e.hij("",t.total," items left"),e.xp6(1),e.ekj("active","all"===t.typeFilter),e.xp6(2),e.ekj("active","active"===t.typeFilter),e.xp6(2),e.ekj("active","completed"===t.typeFilter),e.xp6(5),e.Q6J("ngClass",t.mode?"pagination__"+t.mode:"pagination__dark"),e.xp6(2),e.Q6J("ngClass",t.mode?"pagination__"+t.mode:"pagination__dark"),e.xp6(1),e.hij(" ",t.currentPage," "),e.xp6(1),e.Q6J("ngClass",t.mode?"pagination__"+t.mode:"pagination__dark"))},dependencies:[l.mk,l.sg,g.Fj,g.JJ,g.On,l.rS],styles:['.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:0;right:0;margin-left:auto;margin-right:auto;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%;cursor:pointer;width:25px;height:25px;border:1px solid var( --veryDarkDesaturatedBlue);background-color:none}input[type=text][_ngcontent-%COMP%]{width:90%;padding:15px;border:none;outline:none}.input__dark[_ngcontent-%COMP%]{background-color:var(--veryDarkBlue);color:var(--veryLightGray)}.input__light[_ngcontent-%COMP%]{background-color:var(--veryLightGray)}.input__create[_ngcontent-%COMP%]{width:100%;padding:5px;display:flex;justify-content:space-between;flex-direction:row;flex-wrap:none;align-items:center;border-bottom:1px solid var(--veryDarkGrayishBlue);border-radius:5px 5px 0 0;-webkit-border-radius:5px 5px 0px 0px;-moz-border-radius:5px 5px 0px 0px;-ms-border-radius:5px 5px 0px 0px;-o-border-radius:5px 5px 0px 0px}.input__create[_ngcontent-%COMP%]:first-child{margin-top:20px}.create__dark[_ngcontent-%COMP%]{background-color:var(--veryDarkBlue)}.create__light[_ngcontent-%COMP%]{background-color:var(--veryLightGray)}.checkbox[_ngcontent-%COMP%]{width:20%;position:relative}.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:0;right:0;margin-left:auto;margin-right:auto;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%;cursor:pointer;width:25px;height:25px;border:1px solid var(--veryDarkDesaturatedBlue);background-color:none}.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{border:2px solid #fff;border-top:none;border-right:none;content:"";height:6px;left:7px;opacity:0;position:absolute;top:8px;width:12px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg)}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{visibility:hidden}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(87,221,255,1) 0%,rgba(192,88,243,1) 34%)}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{opacity:1}span[_ngcontent-%COMP%]{width:70%;padding:15px;font-size:1rem;font-weight:400;color:var(--veryDarkGrayishBlue)}img[_ngcontent-%COMP%]{padding:10px;cursor:pointer}.filters[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-evenly;align-items:center;width:100%;height:50px;padding:5px;margin-top:20px;text-align:center;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px}.filters[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;text-decoration:none;cursor:pointer}.span__desktop[_ngcontent-%COMP%]{display:none}.options[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;border-radius:0 0 5px 5px;-webkit-border-radius:0px 0px 5px 5px;-moz-border-radius:0px 0px 5px 5px;-ms-border-radius:0px 0px 5px 5px;-o-border-radius:0px 0px 5px 5px}.options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;text-decoration:none;transition:all .5;-webkit-transition:all .5;-moz-transition:all .5;-ms-transition:all .5;-o-transition:all .5}.options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{text-align:right}.options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child:hover, .filters[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer;color:#3a7bfd}.separator[_ngcontent-%COMP%]{margin-top:-80px!important;margin-bottom:20px!important;border:none!important;border-radius:5px!important;-webkit-border-radius:5px!important;-moz-border-radius:5px!important;-ms-border-radius:5px!important;-o-border-radius:5px!important}.pagination[_ngcontent-%COMP%]{margin:30px;text-align:center}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;height:5px;width:5px;cursor:pointer;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%;margin:0 5px}.pagination__dark[_ngcontent-%COMP%]{background-color:var(--veryDarkBlue);color:var(--veryLightGray)}.pagination__light[_ngcontent-%COMP%]{background-color:var(--veryLightGray)}@media screen and (min-width: 768px){.options[_ngcontent-%COMP%]{display:none}.filters[_ngcontent-%COMP%]{margin-top:0}.span__desktop[_ngcontent-%COMP%]{display:inline}}']}),n})();const v=[{path:"",children:[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-main"]],decls:1,vars:0,template:function(s,t){1&s&&e._UZ(0,"app-lists-tasks")},dependencies:[T]}),n})()},{path:"**",redirectTo:"tasks"}]}];let y=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,m.Bz.forChild(v),m.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,y,g.u5]}),n})()}}]);